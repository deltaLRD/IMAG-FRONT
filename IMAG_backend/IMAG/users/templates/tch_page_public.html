{% extends 'base.html' %}
{%  block style %}
     .atitle{
    font-size:40px;
    font-family:"微软雅黑";
    padding:20px 0px;
    }
    .li_name{
    font-size:15px;
    font-family:"微软雅黑";
    }
    li{
    line-height:40px;
    display:flex;
    justify-content:space-between;
    }
{%  endblock %}
{% block center %}


    <div class="media">
        <div class="media-left media-middle">
            <a href="#">
                <img class="media-object" src="../../static/avatar/{{ tch_info.account }}.jpg"
                     alt="{{ tch_info.account }}" width="180px" height="" id="imag_id">
            </a>
        </div>
        <div class="media-body">
            <h3 class="media-heading">{{ tch_info.Eng_name }}</h3>

            <p><a src="http://www.njust.edu.cn/">Nanjing University of Science and Technology</a></p>


            <p>Email : {{ tch_info.email }}</p>

             <p id="profile">{{ tch_info.profile }}<a onclick="tran();">[中文版]</a></p>

        </div>
    </div>


    <hr>
    <ul>
        <div class="atitle" id="title_jn">论文</div>
            {% for row in jn_info_dict %}
            <li class="jn_li" id="{{ row.id }}" value="{{ row['author'] }}">
                <div class="li_name">{{ row.name}}
            {% for auth in row['author'] %}
                {{ auth }}
            {% endfor %}
                </div>
            </li>
           {% endfor %}
         <div class="atitle" id="title_con">会议</div>
        {% for row  in conf_info_dict %}
            <li class="conf_li" id="{{ row.id }}" value="{{ row['author'] }}">
                <div class="li_name">{{ row.name }}
                {% for auth in row['author'] %}
                    {{ auth }}
                {% endfor %}
                </div>
            </li>
        {% endfor %}
    <div class="atitle" id="title_patent">专利</div>
        {% for row in patent_info %}
            <li class="patent_li" id="{{ row.id }}" >
                <div class="li_name">{{ row.name}} </div>
            </li>
        {% endfor %}
<div class="atitle" id="title_honor">荣誉</div>
        {% for row in honor_info %}
            <li class="honor_li" id="{{ row.id }}" >
                 <div class="li_name">{{ row.name}} </div>
            </li>
        {% endfor %}
    <div class="atitle" id="title_pro">项目</div>
        {% for row in prog_info %}
            <li class="prog_li" id="{{ row.id }}" >
           <div class="li_name">{{ row.name}} </div>
            </li>
        {% endfor %}
<div class="atitle" id="title_course">课程</div>
        {% for row in course_info %}
            <li class="course_li" id="{{ row.id }}" >
                 <div class="li_name">{{ row.name}} </div>
            </li>
        {% endfor %}
    <div class="atitle" id="title_comp">竞赛</div>
        {% for row in comp_info %}
            <li class="comp_li" id="{{ row.id }}" >
                 <div class="li_name">{{ row.name}} </div>
            </li>
        {% endfor %}
    <div class="atitle" id="title_mono">专著</div>
        {% for row in mono_info %}
            <li class="mono_li" id="{{ row.id }}" >
               <div class="li_name">{{ row.name}} </div>
            </li>
        {% endfor %}
    <div class="atitle" id="title_soft">软著</div>
        {% for row in soft_info %}
            <li class="soft_li" id="{{ row.id }}">
                <div class="li_name">{{ row.name}} </div>
            </li>
        {% endfor %}

    {{ others_info }}

    </ul>
<script>
$(document).ready(function(){
         const jn={{ jn_info_dict|tojson }};
         const con= {{ conf_info_dict|tojson }};
         const patent={{ patent_info|tojson}};
         const honor={{ honor_info|tojson }};
         const course={{ course_info|tojson }};
         const comp={{ comp_info|tojson }};
         const mono={{ mono_info|tojson }};
         const soft={{ soft_info|tojson }};
         const pro={{ prog_info|tojson }};
        if(jn.length===0) $("#title_jn").remove();
        if(con.length===0) $("#title_con").remove();
        if(patent.length===0) $("#title_patent").remove();
        if(honor.length===0) $("#title_honor").remove();
        if(course.length===0) $("#title_course").remove();
        if(comp.length===0) $("#title_comp").remove();
        if(mono.length===0) $("#title_mono").remove();
        if(soft.length===0) $("#title_soft").remove();
        if(pro.length===0) $("#title_pro").remove();
    })
     var Serve1={
     profile_eng:{{ tch_info.profile|tojson }},
     profile_ch:{{ tch_info.profile_c|tojson }},
     account:{{ tch_info.account|tojson }}
 }
    tranx=function (){
      pro=document.getElementById("profile")
      temp=document.createElement("a")
      temp.innerText="[中文版]"
     pro.innerText=Serve1.profile_eng
     temp.onclick=tran
     pro.appendChild(temp)
 }
  tran=function (){
        pro=document.getElementById("profile")
        temp=document.createElement("a")
        temp.innerText="[English Version]"
        temp.onclick=tranx
        pro.innerText=Serve1.profile_ch
        pro.appendChild(temp)
       }
</script>
{% endblock %}
